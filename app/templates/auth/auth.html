{% extends 'layout.html' %}
{% block auth_content %}

<div class="auth-wrapper show-login" id="authBox">
    
    <div class="auth-tabs">
        <div class="auth-tab-btn active" id="tabLogin" onclick="switchTab('login')">Masuk</div>
        <div class="auth-tab-btn" id="tabRegister" onclick="switchTab('register')">Buat Akun</div>
    </div>

    <div class="forms-slider">
        
        <div class="form-section" id="form-login-section">
            <div class="text-center mb-4">
                <h4 class="fw-bold">Selamat Datang</h4>
                <p class="text-muted small">Silakan masuk ke akunmu</p>
            </div>
            
            <form action="{{ url_for('auth.login') }}" method="post">
                <div class="mb-3">
                    <input type="email" name="email" class="form-control" placeholder="Email Address" required>
                </div>
                <div class="mb-4">
                    <input type="password" name="password" class="form-control" placeholder="Password" required>
                </div>
                <button type="submit" class="btn-primary-custom mt-0 py-3">Masuk Sekarang</button>
            </form>

            <div class="text-center mt-4 pt-3 border-top border-secondary border-opacity-10">
                <small class="text-muted">Lupa password? <a href="#" class="text-accent fw-bold">Reset</a></small>
            </div>
        </div>

        <div class="form-section" id="form-register-section">
            <div class="text-center mb-4">
                <h4 class="fw-bold">Bergabunglah</h4>
                <p class="text-muted small">Buat akun barumu sekarang</p>
            </div>

            <form action="{{ url_for('auth.register') }}" method="post">
                <div class="mb-3">
                    <input type="text" name="username" class="form-control" placeholder="Username" required>
                </div>
                <div class="mb-3">
                    <input type="email" name="email" class="form-control" placeholder="Email Aktif" required>
                </div>
                <div class="mb-4">
                    <input type="password" name="password" class="form-control" placeholder="Password Kuat" required>
                </div>
                <button type="submit" class="btn-primary-custom mt-0 py-3">Daftar Akun</button>
            </form>

            <div class="text-center mt-4 pt-3 border-top border-secondary border-opacity-10">
                <small class="text-muted">Setuju dengan <a href="#" class="text-accent">Aturan Penggunaan</a></small>
            </div>
        </div>

    </div>
</div>

<script>
    // Cek URL, kalau user akses /register, langsung geser ke tab register
    window.onload = function() {
        if (window.location.pathname.includes('register')) {
            switchTab('register');
        }
    };

    function switchTab(mode) {
        const box = document.getElementById('authBox');
        const tabLogin = document.getElementById('tabLogin');
        const tabRegister = document.getElementById('tabRegister');

        if (mode === 'login') {
            // Geser ke Login
            box.classList.remove('show-register');
            box.classList.add('show-login');
            
            // Update Tab Active
            tabLogin.classList.add('active');
            tabRegister.classList.remove('active');
        } else {
            // Geser ke Register
            box.classList.remove('show-login');
            box.classList.add('show-register');

            // Update Tab Active
            tabRegister.classList.add('active');
            tabLogin.classList.remove('active');
        }
    }
</script>

{% endblock %}